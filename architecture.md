# Архитектура приложения CDC-Bridge

## Общая логика приложения

CDC-Bridge - это система для захвата изменений данных (Change Data Capture) с использованием плагинов. Она состоит из ядра (Core Service), которое управляет источниками (sources) и приемниками (sinks), API для управления ими, логированием событий в SQLite и аутентификацией JWT.

### Основные компоненты:
1. **Core Service**: Центральный сервис, интегрирующий Prise для загрузки плагинов. Управляет расписанием опроса источников, обработкой изменений и отправкой в приемники.
2. **Плагины**:
   - **Sources**: Источники изменений, например, CDC SQL Server.
   - **Sinks**: Приемники, например, Webhook.
3. **API**: Минимальное API на .NET 8 с эндпоинтами для получения и добавления sources/sinks, защищенное JWT.
4. **Логирование**: Журнал событий в SQLite с использованием EventLogger.

## Архитектурные принципы
- **Модульность**: Компоненты разделены на отдельные файлы и проекты (Core, Api, Plugins).
- **SOLID**: Каждый класс имеет единственную ответственность, открыт для расширения (плагины).
- **DRY и KISS**: Избегание дублирования, простота кода.

## Примеры использования
- Загрузка плагина: Через API POST /sources с именем плагина.
- Получение изменений: CoreService опрашивает источники по таймеру и логирует в SQLite.

Подробности в коде и unit-тестах.